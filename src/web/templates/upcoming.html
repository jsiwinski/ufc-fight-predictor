{% extends "base.html" %}

{% block title %}Upcoming Events - UFC Predictions{% endblock %}

{% block content %}
<div class="event-header">
    <h1 class="event-name">Upcoming Fight Cards</h1>
    <p class="event-meta">Predictions for scheduled UFC events</p>
</div>

{% if upcoming %}
<div class="archive-section">
    <div class="event-cards">
        {% for event in upcoming %}
        <a href="/event/{{ event.event_slug }}" class="event-card-link">
            <div class="event-card upcoming-card">
                <div class="event-card-header">
                    <span class="event-card-title">{{ event.event_name }}</span>
                    <span class="badge badge-upcoming">UPCOMING</span>
                </div>
                <div class="event-card-meta">
                    {{ event.event_date|format_date_long }}{% if event.location %} &middot; {{ event.location }}{% endif %}
                </div>

                {# Main Event Matchup #}
                {% if event.main_event_f1 and event.main_event_f2 %}
                <div class="event-card-matchup">
                    <div class="event-card-fighter">
                        {% if event.main_event_f1_photo %}
                        <img src="{{ event.main_event_f1_photo }}" alt="{{ event.main_event_f1 }}" loading="lazy">
                        {% else %}
                        <div class="event-card-fighter-fallback">{{ event.main_event_f1_initials }}</div>
                        {% endif %}
                        <span class="event-card-fighter-name">{{ event.main_event_f1_last }}</span>
                    </div>
                    <span class="event-card-vs">vs</span>
                    <div class="event-card-fighter">
                        {% if event.main_event_f2_photo %}
                        <img src="{{ event.main_event_f2_photo }}" alt="{{ event.main_event_f2 }}" loading="lazy">
                        {% else %}
                        <div class="event-card-fighter-fallback">{{ event.main_event_f2_initials }}</div>
                        {% endif %}
                        <span class="event-card-fighter-name">{{ event.main_event_f2_last }}</span>
                    </div>
                </div>
                {% endif %}

                <div class="event-card-info">
                    {{ event.fight_count }} fights &middot; Predictions ready
                </div>
                <div class="event-card-model">
                    Model: {{ event.model_version|replace('_ensemble_v1', '')|replace('_v1', '')|replace('phase8', 'Phase 8') }}
                </div>
                <div class="event-card-action">View Predictions &rarr;</div>
            </div>
        </a>
        {% endfor %}
    </div>
</div>
{% else %}
<div class="empty-state">
    <h2>No upcoming events</h2>
    <p>Check back soon for predictions on upcoming UFC events.</p>
    <p style="margin-top: 20px;">
        <a href="/archive" style="color: var(--red);">View past predictions</a>
    </p>
</div>
{% endif %}
{% endblock %}
